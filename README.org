# -*- fill-column: 74 -*-

** Table of Contents :TOC_1:
- [[#harpwise][harpwise]]
- [[#usage-and-overview][Usage and Overview]]
- [[#installation][Installation]]
- [[#invocation][Invocation]]
- [[#configuration][Configuration]]
- [[#some-concepts][Some concepts]]
- [[#a-closer-look-at-the-display][A closer look at the display]]

* harpwise

  [[images/harmonica3.png]]

  harpwise is an interactive assistant that supports the daily practice of
  scales, licks, bends, warbles, intervals or note-progressions on a
  diatonic (richter) or chromatic harmonica for all keys. It uses your
  microphone and speaker.

  Harpwise runs on the commandline of Linux, Mac and Windows (wsl2).
  
  It plays and recognizes single notes and can play chords (but can not
  recognize them).

  The main operation modes of harpwise are 'listen', 'quiz' and 'licks';
  these may help to:

  - Internalize various scales and intervals
  - Analyze your playing regarding scales, chords and intervals
  - Learn and memorize licks (a few sample-licks included)
  - Train your musical memory
  - Train your ear
  - Help to gather and learn a collection of licks
  - Work on bends or warbles

  Other things that harpwise can do:

  - Help to find the key of a song (with an adjustable pitch)
  - Interactively play intervals or note progressions
  - Help in writing down a sequence of holes (journal)
  - Transpose a sequence of holes from one key of harp to another,
    preserving the note-values
  - Provide an overview table of positions, keys of songs and keys of harps
  - Print the notes layed out on a harmonica chart
  - Print chords i, iv, v
  - Show full help on its capabilities

    
  The first screenshot is from mode 'listen': The program has recognized a
  note from the blues scale and marks it in the harmonica chart.
  
  [[images/screenshot_listen.png]]

  The second screenshot is from mode 'quiz': The program has played five
  notes initially and now challenges to play them back.
  
  [[images/screenshot_quiz.png]]

* Usage and Overview

  Get usage information by invoking without arguments:
  
    ./harpwise


  This will show examples and options for the main operations of the
  wise: 
  
  - listen: listen to your playing, e.g. to monitor bends or scales
  - quiz: train your ear and musical memory
  - licks: learn licks (licks not included, but some pointers)
  - play: wise plays scales, holes, licks or a reference pitch
  - print: print above or produce various reports
  - tools: utilities (e.g. a position table), mostly related to basic
    harmonica theory
  - calibrate: generate samples for holes or record your own

  As an initial step you will need to calibrate the program; the resulting
  wav-files will be kept in directory ~/.harpwise

  Or, to get started quickly you may use auto-calibration for
  machine-generated tones and frequencies.

  If you want to work with mode licks to learn and memorize licks (highly
  recommended !), you will need to add new licks very soon.  Add them to
  your own lick-file, which is typically located at

  ~/.harpwise/licks/richter/licks_with_holes.txt

  this file is created on first invocation and filled with only three
  sample-licks; however it contains extensive instructions on how to add
  new licks and some pointers to sources for more (printed and online,
  payed and free).

* Installation

  Please see the README within subdirectory install.
   
* Invocation

  On the commandline.

  If you have downloaded from github

  cd ~/harpwise
  ./harpwise

  or if you installed harpwise from the ubuntu repositories, just type:

  harpwise

  In any case you will get usage information to get you started quickly.
  
* Configuration

  This is the user-modifyable configuration file, that will be create on
  first invocation:

  ~/.harpwise/config.ini

  There you may override many settings from the programs default config
  The file is commented extensively so please read there for details on
  the various settings. Initially this config-file is a copy of the
  programs central config-file.

  See also the usage-information, which lists all of the commandline
  option, which (in many cases) mirror the settings from your config.ini.


* Some concepts
** Scales and Licks

   Both concepts:

   - scales, e.g. "blues" or "major pentatonic" and even "chord-i" (holes
     of the i-Chord)
   - licks, e.g. the opening lick of "Juke"

   play a central role for harpwise.

   In some of its various views, harpwise shows information about the
   scales, a given hole belongs to. Or it helps you to memorize your
   favorite licks.

   For this to work best, you may:

   - Add the option --add-scales on the command line to tell, which scales
     you may want to see, e.g. "--add-scales chord-i,chord-iv,chord-v"
   - Find and add your own licks as described above
   
** The reference hole

   The wise can remember a hole you have played to refer to it; this is
   useful e.g. to show the interval between the currently played hole and
   the reference, or to show the deviation from the current played
   frequency to the nominal frequency of the hole, especially when
   practicing bends.

   To set the reference, you simply play the desired note and hit the key
   r at the same time. To clear the reference you simply need to hit r
   when not playing anything.

** When multiple holes produce the same note

   Many harps produce identical notes on certain holes; e.g. the diatonic
   harmonica on holes -2 and +3; or many more cases e.g. for a chromatic.

   The harpwise cannot distinguish between them either and therefore
   simply displays the first hole when in doubt. 

   For writing down licks however, you are free to use any of thos
   multiple holes.

** Tuning

   The harp wise does not make assumptions about the tuning of your
   harmonica; e.g. it works equally well with "equal temperament" (ET) or
   "just intonation" tuning.  Simply because, it asks you to play your own
   harp to generate samples (whatever its tuning might be); and it then
   computes frequency values from these samples.
  
   However, sometimes harpwise has to choose one tuning, e.g. when doing
   auto calibration, or when your samples need to be judged against some
   standard. In such cases it generally uses "equal temperament" (ET for
   short).

* A closer look at the display

  Please note, that the wise tries to adapt itself to different screen
  sizes by inserting blank lines in its display.

  If your terminal window supports changing the screen size, the harpwise
  will react accordingly and you do not need to restart it.

** The upper half of the screen, the "display"

   The display shows details and context about the notes you are playing:

   - The hole you played
   - A Chart showing the layout of your harmonica with notes
   - A similar chart but with scales
   - Chart with intervals (if the reference is set)

   The color may show, if you hit a note from the chosen scales.

** The lower half of the screen, the "comment"

   This shows whatever comment is appropriate for listen or quiz and licks.

*** For listen this may be one of

    - The hole you played
    - The respective note
    - The interval to the previous note or the stored reference
    - Cents deviation of the current frequency to the reference
    - A frequency gauge, centered around the currently referenced note
    - Warbles with respect to the reference hole
    - Journal of holes you have played; useful to write down musical ideas

*** For quiz and licks

    the comment gives information about the sequence of holes, the wise
    expects you to play. There are multiple layouts showing the holes
    small and large and with associated scales, intervals or notes.

    If you are doing quiz you may choose a comment, that does not show
    you, what you are supposed to remember.
   
** The middle part of the screen
*** The hole line
    
    The first line in the middle of the display currently looks like this:

    Hole:   -- , Note:  -- , Ref:   -- ,  Rem: --

    After the obvious fields Hole and Note there are:
    
    - Ref :: (if set) a chosen reference note, against which, e.g. your
      bends will be judged when displaying them.

    - Rem :: A remark, that can be defined for a scale (i.e. within the
      file scales_SCALE_with_holes.yaml)

*** The frequency line

    It shows the absolute Frequency sensed and the deviation in cent from
    the recognized note.

    The same deviation is depicted in the frequency gauge; it looks like
    this:

    [..........:..I.......]

    The middle position (marked by ":") represents the frequency, that was
    found during calibration. If you have done an automatic calibration,
    this frequency might not match what you are actually playing (marked by
    "I"); consider a manual calibration with your actual harp in such a
    case.

    The left and right position (marked by "[." and ".]") represent the
    point, where the displayed note would change: half way to the next
    hole. After reaching which (e.g. while bending), the gauge will change,
    the ":" will represent the next hole and the displayed cursor ("I")
    will jump to the other side to approach the central position again.

*** The interval line
    
    It show the interval to the reference hole (if one has been set) or
    the interval the the previously played hole.

  
